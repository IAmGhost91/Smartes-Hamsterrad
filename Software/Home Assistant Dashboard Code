type: grid
cards:
  - type: heading
    heading_style: subtitle
    icon: mdi:weather-night
    heading: Performance Analyse (Diese Nacht)
  - type: tile
    grid_options:
      columns: 6
      rows: 1
    entity: sensor.hamsterrad_distanz_taglich
    name: Distanz
    icon: mdi:map-marker-distance
    vertical: false
    features_position: bottom
  - type: tile
    grid_options:
      columns: 6
      rows: 1
    entity: sensor.hamsterrad_geschwindigkeit
    name: Aktuell
    icon: ""
    vertical: false
    features_position: bottom
  - type: tile
    grid_options:
      columns: 6
      rows: 1
    entity: sensor.hamsterrad_geschwindigkeit_max_12h
    name: Maximal
    icon: mdi:speedometer
    vertical: false
    features_position: bottom
  - type: tile
    grid_options:
      columns: 6
      rows: 1
    entity: sensor.hamsterrad_geschwindigkeit_durchschnitt_wenn_aktiv
    name: Durchschnitt
    icon: ""
    vertical: false
    features_position: bottom
  - type: heading
    heading: Rekorde
    heading_style: subtitle
    icon: mdi:trophy
  - type: tile
    grid_options:
      columns: 6
      rows: 1
    entity: input_number.hamsterrad_distanz_taglich_rekord
    name: Distanz tÃ¤glich
    icon: ""
    vertical: false
    features_position: bottom
  - type: tile
    grid_options:
      columns: 6
      rows: 1
    entity: input_number.hamsterrad_geschwindigkeit_rekord
    name: Geschwindigkeit
    icon: ""
    vertical: false
    features_position: bottom
  - type: heading
    heading: " Reise"
    heading_style: subtitle
    icon: mdi:book-open-outline
  - type: markdown
    title: ðŸ¹ Hamster-Reisetagebuch
    content: |2-
        {% set distance = states('sensor.hamsterrad_distanz_gesamt') | float(0) %}

        {% set locations = {
          9650: "ðŸ‡¨ðŸ‡¦ **Vancouver:** Einmal Ã¼ber den Atlantik und den ganzen Kontinent!",
          8100: "ðŸ‡¯ðŸ‡µ **Tokio:** Moin aus der grÃ¶ÃŸten Stadt der Welt.",
          7780: "ðŸ‡ºðŸ‡¸ **New York:** Ein GruÃŸ vom Times Square!",
          5420: "ðŸ‡¦ðŸ‡ª **Dubai:** Mitten in der WÃ¼ste.",
          3270: "ðŸ‡ªðŸ‡¬ **Kairo:** Ein Blick auf die Pyramiden.",
          2010: "ðŸ‡¬ðŸ‡· **Athen:** GrÃ¼ÃŸe aus der Wiege der Demokratie.",
          1650: "ðŸ‡ªðŸ‡¸ **Madrid:** Â¡Hola aus Spanien!",
          1150: "ðŸ‡®ðŸ‡¹ **Rom:** Alle Wege fÃ¼hren nach Rom... oder fÃ¼r den Hamster aus Wadern.",
          1020: "ðŸ‡µðŸ‡± **Kattowitz:** Im Herzen von Schlesien.",
          895: "ðŸ‡­ðŸ‡º **Budapest:** Ãœber die Donau gehuscht.",
          750: "ðŸ‡¦ðŸ‡¹ **Wien:** Zu Besuch bei Sissi und Franz.",
          502: "âš“ **Hamburg:** Das Tor zur Welt erreicht.",
          480: "ðŸ‡©ðŸ‡° **Kopenhagen:** Die kleine Meerjungfrau besucht.",
          465: "ðŸ‡¨ðŸ‡­ **ZÃ¼rich:** Ein Abstecher in die Schweiz.",
          460: "ðŸ›ï¸ **Hannover:** Durch die HerrenhÃ¤user GÃ¤rten geradelt.",
          380: "ðŸ¥¨ **Augsburg:** Bei der Augsburger Puppenkiste vorbeigeschaut.",
          350: "ðŸ» **Berlin:** Hauptstadtluft geschnuppert.",
          255: "âš½ **Dortmund:** Einmal durchs Westfalenstadion geflitzt.",
          215: "ðŸš— **Stuttgart:** Bei den groÃŸen Autobauern zu Gast.",
          195: "ðŸ‡«ðŸ‡· **Paris:** Ein kurzes Croissant am Eiffelturm.",
          170: "ðŸ‡©ðŸ‡ª **Frankfurt:** Ein Blick auf die Skyline von Mainhattan.",
          145: "ðŸ›ï¸ **Bonn:** Die ehemalige Hauptstadt erkundet.",
          130: "ðŸ‡ªðŸ‡º **BrÃ¼ssel:** Im Herzen von Europa.",
          115: "ðŸ‡©ðŸ‡ª **Mannheim:** Ein Spaziergang durch die Quadratestadt.",
          100: "ðŸ˜ˆ **Kaiserslautern:** Die AtmosphÃ¤re am Betzenberg gespÃ¼rt.",
          85: "ðŸ‡±ðŸ‡º **Luxemburg:** Das erste Nachbarland ist da!",
          70: "ðŸ’Ž **Idar-Oberstein:** Die berÃ¼hmte Felsenkirche bestaunt.",
          55: "ðŸ­ **SaarbrÃ¼cken:** Einmal quer durch die Landeshauptstadt.",
          42: "ðŸ”© **VÃ¶lklingen:** Das Weltkulturerbe VÃ¶lklinger HÃ¼tte erkundet.",
          35: "ðŸ›ï¸ **Trier:** Deutschlands Ã¤lteste Stadt besichtigt.",
          26: "ðŸ‡«ðŸ‡· **Saarlouis:** Ein Besuch in der Festungsstadt des SonnenkÃ¶nigs.",
          12: "âš’ï¸ **Schmelz:** Ein Besuch in der alten HÃ¼ttenstadt.",
          7: "ðŸ˜ï¸ **Wadern:** Die Stadtgrenzen sind erreicht.",
          0: "ðŸ¡ **Zuhause:** Das Abenteuer beginnt!"
        } %}

        ## **Gesamtdistanz: {{ distance | round(2) }} km**
        {% set ns = namespace(next_km=none) %}
        {% for km, text in locations.items() | reverse %}
          {% if km > distance and ns.next_km == none %}
            {% set ns.next_km = km %}
          {% endif %}
        {% endfor %}
        {%- if ns.next_km != none -%}
          {% set remaining = ns.next_km - distance %}
        *NÃ¤chstes Ziel in: {{ remaining | round(1) }} km*
        {%- else -%}
          ***Alle Ziele erreicht! Weltreise abgeschlossen!***
        {%- endif %}

        ---

        {% for km, text in locations.items() %}
          {% if distance >= km %}
        **{{ km }}km** - {{ text }}
          {% endif %}
        {% endfor %}

      **Start der Reise:** *05.Oktober.2025*
